<script>
    // تشخیص دستگاه لمسی و افزودن افکت
    const isTouchDevice = 'ontouchstart' in window;
    const lists = document.querySelectorAll('.list');

    lists.forEach(list => {
        const link = list.closest('.list-wrapper').href; // دریافت لینک از تگ <a>

        // هندلر مشترک برای باز کردن لینک
        const openLink = () => {
            window.open(link, '_blank');
        };

        if (isTouchDevice) {
            let timer;
            
            // هندلر لمسی
            list.addEventListener('touchstart', (e) => {
                e.preventDefault();
                list.classList.add('hover-effect');
                timer = setTimeout(openLink, 300);
            });

            list.addEventListener('touchend', (e) => {
                e.preventDefault();
                clearTimeout(timer);
                list.classList.remove('hover-effect');
            });

            list.addEventListener('touchmove', (e) => {
                e.preventDefault();
                clearTimeout(timer);
                list.classList.remove('hover-effect');
            });

        } else {
            // هندلر کلیک برای دسکتاپ
            list.addEventListener('click', (e) => {
                e.preventDefault();
                list.classList.add('hover-effect');
                setTimeout(() => {
                    openLink();
                    list.classList.remove('hover-effect');
                }, 300);
            });
        }
    });
</script>
